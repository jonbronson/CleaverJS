<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>CleaverJS - API documentation :
      Source: geometry/geomutil.js
    </title>

    <script src="scripts/prettify/prettify.js">
    </script>
    <script src="scripts/prettify/lang-css.js">
    </script>
    <!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js">
	</script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link href="styles/bootstrap.css" rel="stylesheet">
    <link href="styles/docs.css" rel="stylesheet">
    <link href="styles/bootstrap-custom.css" rel="stylesheet">
    <link href="http://netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">
    <script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js">
    </script>
  </head>
  <body>
    <header class="header navbar navbar-inverse">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="brand" href="#">
	    <strong>CleaverJS
	    </strong> API documentation
	  </a>
        </div>
      </div>
    </header>

    <div class="container-fluid">
      <div class="row-fluid">
          <div class="span4">
              <h2><a href="index.html">Home</a></h2><div class="well well-small"><ul class="nav nav-list"><li class="nav-header">Classes</li><li><a href="CircleField.html"><i class="icon-shield" style="color: #0186d1"></i> CircleField</a></li><li><a href="CleaverMesher.html"><i class="icon-shield" style="color: #0186d1"></i> CleaverMesher</a></li><li><a href="ConstantField.html"><i class="icon-shield" style="color: #0186d1"></i> ConstantField</a></li><li><a href="FloatField.html"><i class="icon-shield" style="color: #0186d1"></i> FloatField</a></li><li><a href="HalfEdge.html"><i class="icon-shield" style="color: #0186d1"></i> HalfEdge</a></li><li><a href="InverseField.html"><i class="icon-shield" style="color: #0186d1"></i> InverseField</a></li><li><a href="Matrix.html"><i class="icon-shield" style="color: #0186d1"></i> Matrix</a></li><li><a href="Mesh.html"><i class="icon-shield" style="color: #0186d1"></i> Mesh</a></li><li><a href="PathField.html"><i class="icon-shield" style="color: #0186d1"></i> PathField</a></li><li><a href="Plane.html"><i class="icon-shield" style="color: #0186d1"></i> Plane</a></li><li><a href="Point.html"><i class="icon-shield" style="color: #0186d1"></i> Point</a></li><li><a href="QuadTree.html"><i class="icon-shield" style="color: #0186d1"></i> QuadTree</a></li><li><a href="QuadTreeMesher.html"><i class="icon-shield" style="color: #0186d1"></i> QuadTreeMesher</a></li><li><a href="Rect.html"><i class="icon-shield" style="color: #0186d1"></i> Rect</a></li><li><a href="RectField.html"><i class="icon-shield" style="color: #0186d1"></i> RectField</a></li><li><a href="ScaledField.html"><i class="icon-shield" style="color: #0186d1"></i> ScaledField</a></li><li><a href="TransformedField.html"><i class="icon-shield" style="color: #0186d1"></i> TransformedField</a></li><li><a href="Triangle.html"><i class="icon-shield" style="color: #0186d1"></i> Triangle</a></li><li><a href="UnionField.html"><i class="icon-shield" style="color: #0186d1"></i> UnionField</a></li><li><a href="Vector.html"><i class="icon-shield" style="color: #0186d1"></i> Vector</a></li><li><a href="Vector3.html"><i class="icon-shield" style="color: #0186d1"></i> Vector3</a></li><li><a href="Vertex.html"><i class="icon-shield" style="color: #0186d1"></i> Vertex</a></li></ul></div>
          </div>

          <div class="span8">
            <h1 class="page-header">
	      Source: geometry/geomutil.js
	    </h1>
              


    
    <section>
        <article>
            <pre class="prettyprint source"><code>/**
* @fileOverview This module provides geometry utilities.
* @author Jonathan Bronson&lt;/a>
*/

var Point = require('./point');
var Vector = require('./vector');
var Vector3 = require('./vector3');

module.exports = (function(){

'use strict';

/** namespace */
var GeomUtil = {

  /**
   * Computes the intersection point of two lines, each defined by two points.
   * @param {Point} p1 First point of Line 1
   * @param {Point} p2 Second Point of Line 1
   * @param {Point} p3 First Point of Line 2
   * @param {Point} p4 Second Point of Line 2
   * @returns {Object} The intersection parameters.
   */
  computeLineIntersection: function(p1, p2, p3, p4) {
    var ua_top = (p4.x - p3.x)*(p1.y - p3.y) - (p4.y - p3.y)*(p1.x - p3.x);
    var ua_bot = (p4.y - p3.y)*(p2.x - p1.x) - (p4.x - p3.x)*(p2.y - p1.y);

    var ub_top = (p2.x - p1.x)*(p1.y - p3.y) - (p2.y - p1.y)*(p1.x - p3.x);
    var ub_bot = (p4.y - p3.y)*(p2.x - p1.x) - (p4.x - p3.x)*(p2.y - p1.y);

    var u_a = ua_top / ua_bot;
    var u_b = ub_top / ub_bot;

    return { 'ua': u_a, 'ub': u_b};
  },

  /**
   * Computes the intersection point of three planes.
   * @param {Plane} plane1
   * @param {Plane} plane2
   * @param {Plane} plane3
   * @returns {Point}
   */
  computePlaneIntersection: function(plane1, plane2, plane3) {
    var n1 = plane1.getNormal();
    var n2 = plane2.getNormal();
    var n3 = plane3.getNormal();

    var term1 = n2.cross(n3).multiply(plane1.d);
    var term2 = n3.cross(n1).multiply(plane2.d);
    var term3 = n1.cross(n2).multiply(plane3.d);
    var term4 = 1.0 / Vector3.dot(n1, Vector3.cross(n2, n3));

    var result = term1.plus(term2).plus(term3).multiply(term4);
    if (isNaN(result.x) || isNaN(result.y) == NaN || isNaN(result.z) == NaN) {
      var error = new Error('failed to compute 3-plane intersection');
      console.log(error.stack());
    }
    return result;
  },

  /**
   * Returns an array of all interior angles in the mesh.
   * @param {Mesh}
   * @returns {Array.&lt;number>}
   */
  computeMeshAngles: function(mesh) {
    var angles = [];
    for (var f=0; f &lt; mesh.faces.length; f++) {
      var face = mesh.faces[f];
      var p = [face.v1.pos, face.v2.pos, face.v3.pos];
      for (var i=0; i &lt; 3; i++) {
        var vec1 = p[(i+1)%3].minus(p[i]).normalize();
        var vec2 = p[(i+2)%3].minus(p[i]).normalize();
        var theta = Math.acos(Vector.dot(vec1, vec2));
        theta *= 180 / Math.PI;
        angles.push(theta);
      }
    }
    return angles;
  }
};

return GeomUtil;

}());</code></pre>
        </article>
    </section>




          </div>
      </div>

        <br clear="both">

      <footer>
<!---        Documentation generated by
	<a href="https://github.com/jsdoc3/jsdoc">JSDoc
	  3.4.0-dev
	</a> on
	Thu Nov 12 2015 00:21:53 GMT-0500 (EST)
        <br>
--->
      </footer>
      <script> prettyPrint();
      </script>
    </div>
  </body>
</html>
